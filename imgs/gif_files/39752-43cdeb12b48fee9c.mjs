(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[39752],{226806:(e,t,n)=>{n.d(t,{gD:()=>i,Sb:()=>o,EV:()=>a});var r=n(762803);const{Consumer:i,Provider:o,useMaybeHook:a}=(0,r.Z)("pwtSurfaceContext")},68348:(e,t,n)=>{n.d(t,{Z:()=>a});const r=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)};var i=n(974780),o=n(164485);function a(e){return!("desktop"===e&&!r())&&(!!i.Z&&(0,o.v)())}},409352:(e,t,n)=>{n.d(t,{Rp:()=>c,KJ:()=>u});const r={id:14,name:"own_profile"},i={id:15,name:"other_profile"},o={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},pin_closeup:{id:13,name:"pin_closeup_details"},own_profile:r,other_profile:i}},client_route_replace:{unauth:{},auth:{own_profile:r,other_profile:i}}},a={client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"}}}}},s={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},l=e=>{var t,n;const{navigationType:r,isAuthenticated:i,segment:s,surface:l}=e,c=i?"auth":"unauth",u=null===(t=a[r])||void 0===t||null===(n=t[c])||void 0===n?void 0:n[l];return s&&u&&u[s]||o[r][c][l]},c=e=>{if("stopwatch"===e.type)return s[e.name]||null;const t=l(e);return t?t.id:null},u=e=>{if("stopwatch"===e.type)return e.name;const{navigationType:t,isAuthenticated:n,segment:r,surface:i}=e,o=n?"auth":"unauth",a=l(e);return a?a.name:`${t}_${o}_${i}${r?"_"+r:""}`}},182513:(e,t,n)=>{n.d(t,{v:()=>i,X:()=>o});var r=n(840059);const i=(e,t)=>{r.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},o=e=>(t,...n)=>{r.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)}},366574:(e,t,n)=>{n.d(t,{Kb:()=>r,wc:()=>o,Wf:()=>a,fF:()=>s,$N:()=>l});const r="pwt-grid-item",i=['div[data-grid-item="true"]',"div.Masonry div.Collection-Item","div.Grid__Item",`div[data-test-id="${r}"]`],o=i.join(","),a=i.map((e=>`${e} img`)).join(","),s=i.map((e=>`${e} div[style*=background-image]`)).join(","),l=i.map((e=>`${e} video`)).join(",")},164485:(e,t,n)=>{n.d(t,{v:()=>_,Z:()=>w});var r=n(667294),i=n(139585),o=n(8089),a=n(409352),s=n(133769),l=n(939606),c=n(226806),u=n(366574);const d=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;const t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},m=(e,t)=>{const n=(e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null)(e);if(!n)return(0,l.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){if(e instanceof HTMLImageElement)return!1;const t=d(e);if(null!=t&&t.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:r})=>{const i=e+r;if(i>=n)return!1;const o=Math.min(t,n-i);return o>.5*t||o>.2*n})(n,t)},p=()=>{const e=(()=>{if(!document.querySelector)return(0,l.H)("missing_document_query_selector"),null;const e=document.querySelectorAll(u.wc);return e[e.length-1]||null})();if(!e)return!1;const t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},g=(e,t)=>{if(!document.querySelector)return(0,l.H)("missing_document_query_selector"),[];const n={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},r=[u.Wf,...e?[u.fF]:[],...t?[u.$N]:[]].join(",");return[...document.querySelectorAll(r)].reduce(((e,r)=>{if((r instanceof HTMLImageElement||r instanceof HTMLDivElement||r instanceof HTMLVideoElement&&t)&&m(r,n)){const t=d(r);if(t){const n=(t||"").replace(/.*\//,"");return e.concat([{element:r,fileName:n}])}}return e}),[])};var f=n(182513);const v=(0,f.X)("GridProfiler"),_=()=>!!(window.addEventListener&&window.removeEventListener&&"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&document.querySelector&&document.querySelectorAll),y=(e,t)=>{if(!t){const t=document.querySelector?document.querySelectorAll(u.wc).length:((0,l.H)("missing_document_query_selector"),0);if(t===e)return v("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!p())return v("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}};function w({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:u=!1}){const d=(0,c.EV)(),m=null==d?void 0:d.id,p=null==d?void 0:d.setVisuallyCompleteResult,[_,w]=(0,r.useState)({status:"DISABLED"});(0,r.useEffect)((()=>{w(p?{status:"LAYOUT",failedCount:0,numOfItemsChecked:0}:{status:"DISABLED"})}),[m,p]),(0,r.useEffect)((()=>{if("DISABLED"!==_.status&&(0,i.ZP)(`GridVisuallyCompleteProfiler_${_.status}`),v("new status",_),"LAYOUT"===_.status){const e=((e,t)=>{const n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",(()=>{(0,i.ZP)("scrollDuringLayout")}));return()=>{e()}}return()=>{}}),[_.status]),(0,o.Z)((()=>{if(!d||!p)return;const{abort:r,metricId:i}=d;switch(_.status){case"LAYOUT":{const t=y(_.numOfItemsChecked,e);t.complete?w({status:"TIMING",failedCount:0,pinElements:g(n,u)}):500*_.failedCount>6e4?((0,l.A9)(`images.${(0,a.KJ)(i)}.visuallyComplete.maxLayoutAttempt`),r("visuallyComplete_layoutTimeout"),w({status:"DISABLED"})):w({..._,failedCount:_.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{const e=(0,s.Cg)(),n=_.pinElements.length,o=[];let c=0,u=0,m=0;if(_.pinElements.forEach((({element:t,fileName:n})=>{const r=e.find((e=>e.name.endsWith(n)));r?r.responseEnd?(o.push(r),(0,f.v)(t,"green")):(m+=1,(0,f.v)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(u+=1,(0,f.v)(t,"red")):(c+=1,(0,f.v)(t,"greenyellow"))})),c||m)100*_.failedCount>6e4?((0,l.A9)(`images.${(0,a.KJ)(i)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:c,noTimingCount:u,noTimingResponseEndCount:m}}),r("visuallyComplete_timingTimeout"),w({status:"DISABLED"})):w({..._,failedCount:_.failedCount+1});else{if(v(`All ${o.length} images are fetched`),t&&t.length){const e=((e,t)=>{let n=0,r=0,i=0,o=0,a=0;return e=e.filter((e=>"pin"===e.type)),t.forEach(((t,s)=>{var l,c,u,d,m,p;const g=t.fileName.split(".")[0];let f;f=e[s],g!==(null===(l=f)||void 0===l?void 0:l.image_signature)&&(f=e.find((e=>g===(null==e?void 0:e.image_signature)))),void 0===f?a+=1:f.is_promoted||"PROMOTED_PIN"===(null===(c=f.recommendation_reason)||void 0===c?void 0:c.reason)||null!==(u=f)&&void 0!==u&&null!==(d=u.promoter)&&void 0!==d&&d.length?i+=1:null!==f.story_pin_data_id&&void 0!==f.story_pin_data_id?n+=1:null!==(m=f)&&void 0!==m&&null!==(p=m.videos)&&void 0!==p&&p.video_list?r+=1:o+=1})),{storyPinCount:n,videoCount:r,adCount:i,imageCount:o,unknownCount:a}})(t,_.pinElements);Object.entries(e).forEach((([e,t])=>{d.addBinaryAnnotation(e,t,"I16")})),(0,l.A9)(`${(0,a.KJ)(i)}.pinTypes`,{tags:e})}p({imageTimings:o}),w({status:"DISABLED"}),(0,l.A9)(`images.${(0,a.KJ)(i)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:u}})}break}}}),(e=>("LAYOUT"===e.status?500:"TIMING"===e.status&&100)||null)(_))}},939606:(e,t,n)=>{n.d(t,{DG:()=>l,iF:()=>c,A9:()=>u,H:()=>d,S$:()=>m});var r=n(731164),i=n(840059);const o=(0,n(182513).X)("logPwtStats");let a=null,s=!0;const l=e=>{a=e},c=e=>{a&&(a.historyAction=e)},u=(e,t,n=!0)=>{if(!a)return o("pwt.metrics_quality.no_context"),void r.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e});const{browserName:s,browserVersion:l,deviceType:c,isBot:u,isSocialBot:d}=a,m=`pwt.${(d?"socialBot":u&&"bot")||"nonbot"}.metrics_quality.${c}.${e}`,p={...(null==t?void 0:t.tags)||{},browserName:s,browserVersion:(null==l?void 0:l.split(".")[0])||"0"},g=null==t?void 0:t.count;n&&(o(`${m}: ${"number"==typeof g?g:1}`),null!=t&&t.tags&&o(Object.entries(t.tags))),i.is||r.Z.count(m,"number"==typeof g?g:1,1,p)},d=(e,t)=>u(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),m=({appLoadName:e,clientNavName:t},n)=>{if(a){const r="APP_VOLUME.";s?(u(r.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),s=!1):"PUSH"===a.historyAction&&u(r.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else r.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat(`.${t}`)})}},139585:(e,t,n)=>{n.d(t,{at:()=>i,gQ:()=>s,Ao:()=>l,BA:()=>c,tl:()=>u,ZP:()=>d});var r=n(974780);const i="masonryPagination";let o={};const a=e=>`ðŸ“Œ ${e}`,s=()=>{const e={};return Object.keys(o).forEach((t=>{(o[t]||[]).slice(0,3).forEach(((n,r)=>{e[r?`${t}_${r+1}`:t]=n}))})),e},l=(e,t)=>(o[e]||[]).filter((e=>e<t)).length,c=(e,t)=>l(e,t)>0,u=()=>{r.Z&&Object.keys(o).forEach((e=>((e,t)=>{const n=a(t);e.clearMarks(n),e.clearMeasures(n)})(r.Z,e))),o={}},d=e=>{r.Z&&(o[e]=(o[e]||[]).concat([r.Z.now()]),((e,t)=>{const n=a(t);e.mark(n),e.measure(n)})(r.Z,e))}},701812:(e,t,n)=>{n.d(t,{jy:()=>i,cC:()=>o,sk:()=>a,qr:()=>s});const r=e=>"number"==typeof e?Math.round(e):e,i=e=>({type:"I16",value:r(e)}),o=e=>({type:"I32",value:r(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},26382:(e,t,n)=>{n.d(t,{ng:()=>_,rA:()=>w});var r=n(894216),i=n(409352),o=n(133769),a=n(641239),s=n(139585),l=n(701812);const c=(e,t)=>(e||[]).reduce(((e,n)=>({...e,[`experiment.${n}`]:(0,l.sk)(t(n))})),{}),u=(e,t)=>"number"==typeof t?e(t):null,d=e=>e.reduce(((e,t)=>e+t),0),m=(e,t)=>Object.keys(t).reduce(((n,r)=>({...n,[`${e}${r}`]:t[r]})),{}),p=e=>{if(!e.length)return{};const t=e.map((({startTime:e,requestStart:t,responseStart:n,responseEnd:r})=>{const i=t||e;return{startTime:e,requestStart:i,responseStart:n||i,responseEnd:r}})),n=d(t.map((e=>e.requestStart-e.startTime))),r=d(t.map((e=>e.responseStart-e.requestStart))),i=d(t.map((e=>e.responseEnd-e.responseStart))),o=n+r+i,a=d(e.map((e=>e.decodedBodySize||0)));return{decodedBodySize:(0,l.cC)((s=a,Number(Number(s/1024).toFixed(3)))),"duration.all":(0,l.cC)(o),"duration.requestStartToResponseStart":(0,l.cC)(r),"duration.responseStartToResponseEnd":(0,l.cC)(i),"duration.startToRequestStart":(0,l.cC)(n)};var s},g=e=>{const t=e.filter((e=>!!e.responseEnd));return{...e.length?{...p(t),"count.completed":(0,l.cC)(t.length)}:{},"count.all":(0,l.cC)(e.length)}},f=e=>{const t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},r={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){const{requestStart:i,startTime:o}=e[0].timing,a=i||o;n.timeSecond1.start=a,n.timeSecond1.end=a+1e3,n.timeSecond2.start=a+1e3,n.timeSecond2.end=a+2e3,n.timeSecond3.start=a+2e3,n.timeSecond3.end=a+3e3,e.forEach((e=>{const{timing:i}=e;r[e.category]=r[e.category].concat([i]),e.isDeferred&&(r.script_deferred=r.script_deferred.concat([i])),e.isExternal&&(r.external=r.external.concat([i])),e.isVisuallyCompleteRequired&&(r.visually_complete=r.visually_complete.concat([i]));const{requestStart:o,startTime:a,responseEnd:s}=i,l=o||a;t.forEach((e=>{const{start:t,end:r}=n[e];(l>=t&&l<r||l<t&&s>t)&&(n[e].count+=1)}))}))}const i={...m("concurrentRequests.",Object.keys(n).reduce(((e,t)=>e={...e,[t]:(0,l.cC)(n[t].count)}),{}))};return{...Object.keys(r).reduce(((e,t)=>({...e,...m(`resource.${t}.`,g(r[t]))})),i)}},v=(e,t)=>{const{devicePixelRatio:n,navigator:o,innerWidth:a,innerHeight:s,performance:c}=window,{deviceMemory:u,hardwareConcurrency:d,platform:m,userAgent:p}=o,{memory:g}=c,{appType:f,appVersion:v,browserName:_,browserVersion:y,deviceType:w,isAppShell:h,isAuthenticated:T,isBot:S,isSocialBot:b,locale:E,osName:C,stageName:A}=t,k="desktop"===w?f||5:f||6;let I;const{navigationType:L}=e;let O=null;if("initial_app_load"===L){var $;I=1;const e=null===($=(0,r.Z)("navigation")[0])||void 0===$?void 0:$.transferSize;O=e?parseFloat((.001*e).toFixed(1)):null}else I=4;return{"app.type":(0,l.jy)(k),"app.version":(0,l.sk)(v),"browser.name":(0,l.sk)(_),"browser.version":(0,l.sk)(y),"cpu.speed":(0,l.jy)(d),"device.memory":(0,l.jy)(u),"device.type":(0,l.jy)(0),"device.typeName":(0,l.sk)(w),"device.version":(0,l.sk)("unknown"),"pwt.cause":(0,l.jy)(I),"pwt.result":(0,l.jy)(1),"view.type":(0,l.cC)(0),"viewport.height":(0,l.cC)(s||0),"viewport.width":(0,l.cC)(a||0),devicePixelRatio:(0,l.cC)(n||0),isAppShell:(0,l.qr)(h),isAuthenticated:(0,l.qr)(T),isBot:(0,l.qr)(S),isSocialBot:(0,l.qr)(b),locale:(0,l.sk)(E),osName:(0,l.sk)(C),...null!==O&&{htmlResponseSize:(0,l.cC)(O)},platform:(0,l.sk)(m||null),profilerVersion:(0,l.sk)("3"),pwtActionName:(0,l.jy)((0,i.Rp)(e)),stageName:(0,l.sk)(A),userAgent:(0,l.sk)(p),usedJSHeapSize:(0,l.cC)((null==g?void 0:g.usedJSHeapSize)||0),totalJSHeapSize:(0,l.cC)((null==g?void 0:g.totalJSHeapSize)||0),jsHeapSizeLimit:(0,l.cC)((null==g?void 0:g.jsHeapSizeLimit)||0)}},_=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:r={},performanceResourceTimings:i=[]})=>{let a={};{const{connection:e,hardwareConcurrency:t,deviceMemory:n}=window.navigator;a={"net.effectiveType":(0,l.sk)((null==e?void 0:e.effectiveType)||null),"net.rtt":(0,l.cC)(u((e=>10*Math.round(e/10)),null==e?void 0:e.rtt)),"net.speed":(0,l.cC)((0,o.Hv)(i,!1)),"cpu.threads":(0,l.jy)(t),"memory.size":(0,l.cC)(n)}}return{...c(e,n.getExperimentGroup),...v(t,n),...r,...a,stopwatchVersion:(0,l.jy)(1)}},y=(e,t,n)=>{var r;const{navigator:i}=window,{connection:c,serviceWorker:m}=i,{surface:p,navigationType:g,isAuthenticated:f}=e,{cumulativeLayoutShiftScore:v,longTaskDurations:_}=(0,a.v2)();return{..._.length?{"longTask.count":(0,l.cC)(_.length),"longTask.maxDuration":(0,l.cC)(Math.max(..._)),"longTask.totalDuration":(0,l.cC)(d(_))}:{},cumulativeLayoutShiftScore:(0,l.cC)(100*v),"masonry.paginationMarkCount":(0,l.cC)((0,s.Ao)(s.at,t)),"metricId.isAuthenticated":(0,l.qr)(f),"metricId.navigationType":(0,l.sk)(g),"metricId.surface":(0,l.sk)(p),"net.effectiveType":(0,l.sk)((null==c?void 0:c.effectiveType)||null),"net.rtt":(0,l.cC)(u((e=>10*Math.round(e/10)),null==c?void 0:c.rtt)),"net.speed":(0,l.cC)((0,o.Hv)(n)),resourceBufferClearedCount:(0,l.jy)((0,s.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,l.qr)((0,s.BA)("scrollDuringLayout",t)),serviceWorker:(0,l.qr)(m?!!m.controller:null),serviceWorkerState:(0,l.sk)((null==m||null===(r=m.controller)||void 0===r?void 0:r.state)||null)}},w=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:r,performanceResources:i,pwtEndTime:o,pwtStaticContext:a})=>({...t,...f(i),...c(e,a.getExperimentGroup),...v(r,a),...y(r,o,n)})},954321:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(974780);const i=()=>{const[e]=r.Z?r.Z.getEntriesByType("navigation"):[];return e}},940094:(e,t,n)=>{n.d(t,{i:()=>r,p:()=>a});const r=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov","ts","m3u8"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}},i=e=>{const t=e.replace(new RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},o=e=>["pinimg","pinterest","pinterdev"].every((t=>!e.includes(`${t}`))),a=(e,t)=>{const n=r(e),{name:a}=e;return{category:n,isDeferred:"script"===n&&i(a),isExternal:o(a),isVisuallyCompleteRequired:"image"===n&&t.includes(a),timing:e}}},299962:(e,t,n)=>{n.d(t,{Z:()=>y});let r=null;const i=(e,t)=>(r=r||{results:[],context:t},r.results.push(e),r);var o=n(840059),a=n(182513),s=n(409352),l=n(939606),c=n(954321),u=n(590606);const d=(e,t)=>Object.keys(e).reduce(((n,r)=>{const i=e[r];return i&&(n[r]={timestamp:t+i}),n}),{}),m=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:d(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce(((e,t)=>{const r=n[t];if(!r)return e;const{value:i,type:o}=r;return null==i?e:e.concat({name:t,value:i,annotation_type:o})}),[]))};var n},p=(e,{startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:i,parentId:o,traceId:a})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:i,parentId:o,id:a}),g=({annotations:e})=>e.reduce(((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}})),{}),f=(e,t)=>({...e,annotations:{...g(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),v=({traceId:e,actionName:t,result:n,timeOrigin:r,serverDataToJoin:i})=>{let o=m({span:p(t,n),timeOrigin:r}),a=null;return i&&(o=f(o,i),a=((e,t,n)=>{const r=(0,c.Z)();return(null==r?void 0:r.responseEnd)?f(m({span:{name:"html",startTime:0,endTime:(null==r?void 0:r.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{},id:e.server_span_id||(0,u.Z)(),parentId:t},timeOrigin:n}),e):null})(i,e,r)),{trace_id:e,spans:[o,...a?[a]:[],...n.spans.map((e=>m({span:e,timeOrigin:r})))]}},_=(0,a.X)("reportResult");function y({metricId:e,pwtStaticContext:t,result:n,isAuth:r}){const{ajax:a,serverData:c}=t,u=(0,s.KJ)(e),d=`${n.type}.${u}`,m=void 0!==r&&{tags:{isAuth:r}}||void 0;if((0,l.A9)(n.reason?d.concat(`.${n.reason}`):d,m),"COMPLETE"!==n.type)return void _(`Abort metric ${u}`,n);const p=null!==(g=window.performance)&&void 0!==g&&g.now?Date.now()-window.performance.now():"unknown";var g,f;if("unknown"===p)return _(`Unable to convert to absolute times for ${u} due to missing time origin`),void(0,l.A9)(`missingTimeOrigin.${u}`,m);if(o.is&&(window.PWT_LAB_DATA=i(n,t)),n.spans.length&&(n.spans=n.spans.map((e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e)))),!o.is){const r=e.navigationType&&"initial_app_load"===e.navigationType,i=n.traceId,s=v({traceId:i,actionName:u,result:n,timeOrigin:p,serverDataToJoin:r&&c||null});a({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(s),report_context:JSON.stringify((f=t,{debugTrace:o.eD,locale:f.locale,stageName:f.stageName,userId:f.isAuthenticated?f.userId:null}))}}),_(`PinTrace ${u} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${i.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},641239:(e,t,n)=>{n.d(t,{on:()=>a,PJ:()=>l,Ux:()=>c,v2:()=>u,Kj:()=>m,UQ:()=>p});var r=n(161133),i=n(403369);const o={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},a=()=>{o.longTaskDurations=[]},s=(0,r.Z)((()=>o.elementTimings)),l=()=>s.get(),c=e=>{e&&s.save(),o.elementTimings=[]},u=()=>o;let d=0;const m=()=>d,p=()=>{(0,i.Z)({type:"element",buffered:!0},(e=>{o.elementTimings=o.elementTimings.concat(e.getEntries().reduce(((e,{identifier:t,loadTime:n,renderTime:r})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof r?[{identifier:t,loadTime:n,renderTime:r}]:[])),[]))})),(0,i.Z)({entryTypes:["longtask"]},(e=>{e.getEntries().map((e=>o.longTaskDurations.push(e.duration)))}),(()=>a())),(0,i.Z)({type:"first-input",buffered:!0},((e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(o.firstInputDelay={startTime:n.startTime,endTime:n.processingStart}),t.disconnect()}),(()=>{o.firstInputDelay=null})),(0,i.Z)({type:"largest-contentful-paint",buffered:!0},(e=>{const t=e.getEntries(),n=t.length,r=t[n-1];r&&(d=n,o.largestContentfulPaint=r.renderTime||r.loadTime||null)})),(0,i.Z)({type:"layout-shift",buffered:!0},(e=>{e.getEntries().forEach((e=>{e.hadRecentInput||(o.cumulativeLayoutShiftScore+=e.value)}))}))}},161133:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},403369:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{const r=new window.PerformanceObserver(t);return r.observe(e),window.addEventListener("beforeunload",(()=>{r.disconnect()})),n&&window.addEventListener("popstate",(()=>{n()})),r}catch(r){return null}}},590606:(e,t,n)=>{function r(){let e="";for(let t=0;t<15;t+=1){e+="0123456789"[Math.floor(10*Math.random())]}return Number(e)}n.d(t,{Z:()=>r})},133769:(e,t,n)=>{n.d(t,{X_:()=>m,Cg:()=>f,y0:()=>v,Eg:()=>_,LH:()=>y,Hv:()=>w,MM:()=>h});var r=n(161133),i=n(403369),o=n(139585),a=n(894216),s=n(840059),l=n(940094),c=n(939606);let u;function d(){window.performance&&window.performance.clearResourceTimings&&((0,o.ZP)("resourceBufferCleared"),s.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,c.A9)("resourceBufferSize",{count:(0,a.Z)("resource").length}),window.performance.clearResourceTimings())}const m=({size:e})=>{if(window.performance){window.PerformanceObserver?(u=(0,a.Z)("resource"),(0,i.Z)({entryTypes:["resource"]},(t=>{u=(u||[]).concat(t.getEntries()),u.length>e&&(u=u.slice(-e))}))):(window.addEventListener("popstate",(()=>{(0,a.Z)("resource").length>e&&d()})),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{u||d()}}catch(t){}}},p=()=>u||(0,a.Z)("resource"),g=(0,r.Z)(p),f=p,v=()=>g.get(),_=e=>{e&&g.save(),u&&((0,c.A9)("customBufferSize",{count:u.length}),u=[]),d()},y=()=>({customBufferSize:u?u.length:0,defaultBufferSize:(0,a.Z)("resource").length}),w=(e,t=!0)=>{let n=0,r=0;const i=(o=e.filter((e=>t?!("image"!==(0,l.i)(e)||(e.responseEnd||(n+=1),e.transferSize||(r+=1),!e.responseEnd||!e.transferSize)):!!e.responseEnd&&!!e.transferSize)).map((e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3))).length?o.reduce(((e,t)=>e+t),0)/o.length:null;var o;return t&&(n>0&&(0,c.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),r>0&&(0,c.A9)("images.downloadSpeed.transferSize",{tags:{count:r}},!1)),i},h=e=>{if(!e)return"unknown";const t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},894216:(e,t,n)=>{function r(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>r})},974780:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(i=window.performance)&&i.clearMarks&&i.clearMeasures&&i.clearResourceTimings&&i.getEntries&&i.getEntriesByName&&i.getEntriesByType&&i.mark&&i.measure&&i.now&&i.setResourceTimingBufferSize?i:null;var i},8089:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(667294);const i=(e,t)=>{const n=(0,r.useRef)((()=>{}));(0,r.useEffect)((()=>{n.current=e}),[e]),(0,r.useEffect)((()=>{if(null===t)return()=>{};const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/39752-43cdeb12b48fee9c.mjs.map